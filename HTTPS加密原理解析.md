### HTTPS

> 全称：HyperText Transfer Protocol over Secure Socket Layer
>
>  HTTP 通信时，信息可能会监听、服务器或客户端身份伪装等安全问题，HTTPS 则能有效解决这些问题


#### 加密类型
- **对称加密：**  AES 加密算法；
> 对称加密的意思就是说双方都有一个共同的密钥，然后通过这个密钥完成加密和解密，这种加密方式速度快，但是安全性不高。
>
>举个例子，现在学霸小明这里有一道数学题的答案：123 。他想把答案传给自己一直暗恋的小红。所以他们双方在考试开考前，约定了一把密钥：456 。那么小明就把答案内容经过密钥加密，即 123 + 456 = 579 ，将 579 写在小纸条上扔给小红。如果此时别人捡到了小纸条，不知道他们是加密传输的，看到上面的 579 ，会误以为答案就是 579 ；如果是小红捡到了，她拿出密钥解密，579 - 456 = 123 ，得到了正确的答案。

- **非对称加密：** RSA 加密算法就是非对称加密的；
>非对称加密就是有两把密钥，公钥和私钥。私钥自己藏着，不告诉任何人；而公钥可以公开给别人。
>
>经过了上次作弊后，小红发现了对称加密如果密钥泄露是一件可怕的事情。所以她和小明决定使用非对称加密。小红生成了一对公钥和私钥，然后把公钥公开，小明就得到了公钥。小明拿到公钥后，把答案经过公钥加密，然后传输给小红，小红再利用自己的私钥进行解密，得到答案结果。如果在这个过程中，其他人得到传输的内容，而他们只有小红公钥，是没有办法进行解密的，所以也就得不到答案，只有小红一个人可以解密。


因此，相比较对称加密而言，非对称加密安全性更高，但是加解密耗费的时间更长，速度慢。


#### HTTPS加密详解

HTTP和HTTPS之间就缺少一个SSL

- **SSL证书：** 安全套接字层(SSL) 技术通过加密信息和提供鉴权，保护您的网站安全。
一份 SSL 证书包括一个公共密钥和一个私用密钥。公共密钥用于加密信息，私用密钥用于解译加密的信息。

- **CA证书：** 数字证书，是由CA 机构颁发的。CA 证书内一般会包含：颁发机构版本、使用者、公钥、有效时间、数字签名 Hash 值和签名 Hash 算法；

- **CA证书校验：** CA 证书中的 Hash 值，其实是用证书的私钥进行加密后的值（证书的私钥不在 CA 证书中）。然后客户端得到证书后，利用证书中的公钥去解密该 Hash 值，得到 Hash-a ；然后再利用证书内的签名 Hash 算法去生成一个 Hash-b 。最后比较 Hash-a 和 Hash-b 这两个的值。如果相等，那么证明了该证书是对的，服务端是可以被信任的；如果不相等，那么就说明该证书是错误的，可能被篡改了，浏览器会给出相关提示，无法建立起 HTTPS 连接。除此之外，还会校验 CA 证书的有效时间和域名匹配等。


> 这边因为流程看着枯燥，简单的讲解：
> - 客户端和服务端建立 SSL 握手，客户端通过 CA 证书来确认服务端的身份；
> - 互相传递三个随机数，之后通过这随机数来生成一个密钥；
> - 互相确认密钥，然后握手结束；
> - 数据通讯开始，都使用同一个对话密钥来加解密；


HTTPS 加密原理的过程中把对称加密和非对称加密都利用了起来。即利用了**非对称加密安全性高**的特点，又利用了**对称加密速度快，效率高**的好处。

 
 





